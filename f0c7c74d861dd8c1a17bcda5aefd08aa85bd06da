{
  "comments": [
    {
      "key": {
        "uuid": "261096e8_8ac310fd",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/ChangeChecker.java",
        "patchSetId": 24
      },
      "lineNbr": 1,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2018-06-15T14:16:12Z",
      "side": 1,
      "message": "2018",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "f0c7c74d861dd8c1a17bcda5aefd08aa85bd06da",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "164e3a2a_c71c5fe3",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/ChangeCheckerImpl.java",
        "patchSetId": 24
      },
      "lineNbr": 100,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2018-06-15T14:16:12Z",
      "side": 1,
      "message": "This does not work, if submit does not create a new commit, then the commitTime will be quite different than the indexing time.\n\nIf commit was done at 12:00 for example, submit is done at 13:00 and is a fast forward, then  the logic will start to retry even if there is no reason to.",
      "range": {
        "startLine": 99,
        "startChar": 8,
        "endLine": 100,
        "endChar": 7
      },
      "revId": "f0c7c74d861dd8c1a17bcda5aefd08aa85bd06da",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad5cf67d_c0ab9cd7",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/ForwardedIndexChangeHandler.java",
        "patchSetId": 24
      },
      "lineNbr": 93,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2018-06-15T14:16:12Z",
      "side": 1,
      "message": "I already said that but maybe I was not clear. All this idea of checking the TS is very brittle so I am ok with this retry feature relying on it but I am not ok to rely on it to skip indexing. You are trying to address 2 different problems in the same change. For the NFS delay, this check can be moved after indexing and thus preserving backward compatibility for the one who are not enabling this retry feature.\n\nAs I commented before, I want the indexing to happen and then we check if we need to reindex to work around the NFS limitation.\n\nYesterday, I told about the 2 causes of indexing which does not update the TS but I did not check all callers of ChangeIndexer in Gerrit to find them all. For that reason, we cannot rely on TS to skip indexing. Skipping an indexing event will lead to missaligned indices and this is a bigger problem than wasting CPU cycles on a machine which is a warm standby.",
      "range": {
        "startLine": 93,
        "startChar": 8,
        "endLine": 93,
        "endChar": 74
      },
      "revId": "f0c7c74d861dd8c1a17bcda5aefd08aa85bd06da",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c211945_afcae245",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ForwardedIndexExecutor.java",
        "patchSetId": 24
      },
      "lineNbr": 2,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2018-06-15T14:16:12Z",
      "side": 1,
      "message": "I changed all the Copyright to AOSP in this plugin as well as in all the other plugins we open sourced, change to:\n\n// Copyright (C) 2018 The Android Open Source Project",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 2,
        "endChar": 37
      },
      "revId": "f0c7c74d861dd8c1a17bcda5aefd08aa85bd06da",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6658b20b_c3c0d710",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ForwardedIndexExecutorProvider.java",
        "patchSetId": 24
      },
      "lineNbr": 2,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2018-06-15T14:16:12Z",
      "side": 1,
      "message": "change that to:\n// Copyright (C) 2018 The Android Open Source Project",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 2,
        "endChar": 37
      },
      "revId": "f0c7c74d861dd8c1a17bcda5aefd08aa85bd06da",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}