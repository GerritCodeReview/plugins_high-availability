{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "151195a1_1d56314d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T10:50:18Z",
      "side": 1,
      "message": "I think this subject doesn\u0027t properly indicate the main issue that is being addressed with this change which is that some indexing events are retried up to the max number of retries even when it is known that the up-to-date check will never succeed (in the way it is currently implemented).",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10f95af3_27c2b059",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2024-04-23T19:52:33Z",
      "side": 1,
      "message": "I think showing an example will make things cleaner, let\u0027s imagine that:\n\n1. The current tip of the ref SHA1 is `A1`.\n2. We receive an event to reindex the ref, and the tip SHA1 should be `A2`.\n3. We check if that is true, but in our case, it\u0027s not because the SHA1 is still `A1`(this can happen because of the NFS caching), so we index anyway and we back off for 10 seconds to check if we see correct data.\n4. During that 10 seconds, we have another update to `A3`.\n5. After the backoff, the task checks if the tip SHA1 is `A2`, but in our case, it\u0027s already `A3`, so the task will index current state and back off for another 10 seconds.\n6. Repeat point 5 up to maximum retries.\n\nAnother use case would be that sending/consuming events is slow, so before we consume the event for `A2`, the ref is already pointing to A3.\n\nIn the meantime, we have an event to reindex SHA1 `A3`, and this one is successful. The problem is that we still have a task for `A2` which is retrying and consuming resources(in a very busy repo we can thousands of those).\n\nProposed solution:\n\n1. If any of the indexing tasks for the ref are successful all previous ones which are retrying can be discarded - it\u0027s because all retrying tasks for that ref are pointing to an outdated SHA1.\n2. If we have a new event and already have a task which is retrying, we know that it will never be successful for the current SHA1, so let\u0027s update the SHA1 to the new one and restart the number of retries.\n\nAn alternative approach would be to check the ref history if `A2` is present but it\u0027s not the tip. If yes, we could discard that task. The problem with that solution is that it would be very expensive to traverse the history.",
      "parentUuid": "151195a1_1d56314d",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1712ee3e_86abf3aa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-23T22:05:48Z",
      "side": 1,
      "message": "\u003e Proposed solution:\n\u003e \n\u003e 1. If any of the indexing tasks for the ref are successful all previous ones which are retrying can be discarded - it\u0027s because all retrying tasks for that ref are pointing to an outdated SHA1.\n\u003e 2. If we have a new event and already have a task which is retrying, we know that it will never be successful for the current SHA1, so let\u0027s update the SHA1 to the new one and restart the number of retries.\n\nIf I follow correctly, then when 2. is implemented there can be only one retrying task for indexing one change, right? So, if this observation is correct, why would 1. be necessary? In that case 1. describes an impossible scenario?",
      "parentUuid": "10f95af3_27c2b059",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "177a3393_51fe709b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2024-04-24T10:15:44Z",
      "side": 1,
      "message": "Yes, that\u0027s correct. This change is implementing point 2 and implicitly resolving point 1",
      "parentUuid": "1712ee3e_86abf3aa",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52160ed2_5a4b46f5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "Acknowledged, as you both agreed on the  resolution.",
      "parentUuid": "177a3393_51fe709b",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad96c02e_3e086cdb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T10:50:18Z",
      "side": 1,
      "message": "For my understanding, why is that check necessary? Why not just index with the current target-branch state? After all this is what this site sees and has.",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 15,
        "endChar": 23
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04289315_aaa2caef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2024-04-23T19:52:33Z",
      "side": 1,
      "message": "but we have to make sure that we index the latest state of the change. What if the new commit is not yet visible(for example,because of the NFS caching) if we index the current state we will index old data and the new data would be never indexed.",
      "parentUuid": "ad96c02e_3e086cdb",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 15,
        "endChar": 23
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67434dfe_c69f1062",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "+1, if we don\u0027t wait for the target branch to reach (or being over) the expected SHA1, we may end up consuming the reindexing event and being stuck with a stale Lucene index.",
      "parentUuid": "04289315_aaa2caef",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 15,
        "endChar": 23
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44d3b98f_6ce1bb89",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T10:50:18Z",
      "side": 1,
      "message": "In the case of pointing to a previous meta-ref commit, why not just index that change in that case? What bad could happen if we simply index the change in that case? To keep the performance better we can also switch to using `reindexIfStale`",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 15
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1722dfb_5757796c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2024-04-23T19:52:33Z",
      "side": 1,
      "message": "we do reindex, but we want to make sure that we keep retrying until the new data is visible to make sure that we index that data",
      "parentUuid": "44d3b98f_6ce1bb89",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 15
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c68c1fc_27210284",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "+1 to @maczech@gmail.com comment, @sasa.zivkov@sap.com you could possibly catch-up and discuss further with @diego.sessona@gmail.com who will be joining the Hackathon shortly.",
      "parentUuid": "e1722dfb_5757796c",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 15
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff62b5f1_ea135299",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T08:45:09Z",
      "side": 1,
      "message": "Can you elaborate more about how this change intends to achieve that? This would make the review easier.",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 55
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a414798_ac2b1b45",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T10:50:18Z",
      "side": 1,
      "message": "This is highly prone to race conditions. For example, if there is a pending indexing task which is already stale then it will prevent submitting a new (uo-to-date) indexing that for that change.\n\nI would rather propose to think in a different direction:\n* Always accept indexing tasks\n* If necessary, implement an early exit when a task detects that it is stale and will never be up-to-date. That staleness check shall be implemented in the task itself and, an early exit, shall be done by indicating success back to failsafe executor.",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 27,
        "endChar": 55
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8188139_56509ab7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T11:05:04Z",
      "side": 1,
      "message": "Alternatively, we can also use the Aborts API of the failsafe for an abort before the max retries is reached:\nhttps://failsafe.dev/retry/#aborts",
      "parentUuid": "2a414798_ac2b1b45",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 27,
        "endChar": 55
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98cd02b4_5e6e28fa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "+1 to @sasa.zivkov@sap.com\u0027s solution of the FailSafe\u0027s abort mechanism. May @diego.sessona@gmail.com can take over during the forthcoming Hackathon?",
      "parentUuid": "d8188139_56509ab7",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 27,
        "endChar": 55
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc2efc4f_4f74b5da",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "I believe @maczech@gmail.com did, maybe @diego.sessona@gmail.com can rephrase the commit message for making the intention clearer?",
      "parentUuid": "ff62b5f1_ea135299",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 55
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "edbc741e_5bea44a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-03-22T10:49:54Z",
      "side": 1,
      "message": "It looks like this change tries to address to many things at once.\n\nI would concentrate first in making the FailsafeExecutor more customisable (e.g. with custom retries) as one change, or get rid of it if we cannot make any meaningful use of it.\n\nAdding @sasa.zivkov@sap.com to the discussion, as the introduction of the `FailsafeExecutor` came from him and he could have other options or ideas to explore.",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0dc513ff_b9f9ef5e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-04-02T08:08:55Z",
      "side": 1,
      "message": "Ping @sasa.zivkov@sap.com ?",
      "parentUuid": "edbc741e_5bea44a1",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa62f4db_8d5410a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 3373360
      },
      "writtenOn": "2024-04-02T23:13:36Z",
      "side": 1,
      "message": "git clone https://gerrit.googlesource.com/homepage",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1ca0159_a75b90dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 3373360
      },
      "writtenOn": "2024-04-03T00:17:57Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "0dc513ff_b9f9ef5e",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2fb31aac_d632cc6b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-23T22:05:48Z",
      "side": 1,
      "message": "Just wanted to post another question quickly. This is not a complete response.",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d580c2f_71c20221",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-04-24T12:20:40Z",
      "side": 1,
      "message": "I would like to freeze this discussion as @Saša might have a much better solution to this problem 😊\n\n@sasa.zivkov@sap.com could you contribute your alternative change?",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32a67892_2006cfff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2024-04-24T15:48:32Z",
      "side": 1,
      "message": "Issues caused by NFS caching with using jgit on NFS are solved for us since we use a jgit version including the following mitigations from QualComm:\n\ncore.trustLooseRefStat\nhttps://eclipse.gerrithub.io/c/eclipse-jgit/jgit/+/1177316\n\ncore.trustPackedRefsStat\nhttps://eclipse.gerrithub.io/c/eclipse-jgit/jgit/+/197526\n\nwith the following configuration in `$gerrit_site/etc/jgit.config`\n``` \n[core]\n    trustFolderStat \u003d false\n    trustLooseRefStat \u003d after_open\n    trustPackedRefsStat \u003d after_open\n```\n\nthe latter 2 can also be set to false but that\u0027s much slower.",
      "parentUuid": "2d580c2f_71c20221",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2cb814e_99fbde1a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2024-04-24T15:53:10Z",
      "side": 1,
      "message": "@luca.milanesio@gmail.com but NFS caching is not the only use case. Imagine that for some reason sending/receiving events is slow. This means that we can consume the event for indexing SHA1 `A2` when we already moved tip of the ref to `A3`. In that case even if we fix NFS caching we will still end up with stale indexing task",
      "parentUuid": "32a67892_2006cfff",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b660c17_7ec6e1ac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "@matthias.sohn@gmail.com I hear you and if you don\u0027t use `core.trustFolderStat \u003d true` then it is clear that you\u0027re not impacted by this problem.\n\nAlso, this change is about solving the issues deriving by using HA with `core.trustFolderStat \u003d true` (see Issue 320626488) therefore I believe it would still make sense to get this reviewed and merged, even if it would not be useful for SAP or Qualcomm.",
      "parentUuid": "e2cb814e_99fbde1a",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93619e20_1527e5c6",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ForwardedIndexExecutorProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T11:31:18Z",
      "side": 1,
      "message": "What happens with the sha-1 checks when squashing multiple events into one? Which sha-1 values will be used for the up-to-date checks?",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51f5d2d7_5e3ec16e",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ForwardedIndexExecutorProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-05-02T09:21:22Z",
      "side": 1,
      "message": "It should be the one of the newest indexing event, as all the previous ones are snapshots of the past that may not be the tip anymore.",
      "parentUuid": "93619e20_1527e5c6",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3818519_03671487",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ForwardedIndexExecutorProvider.java",
        "patchSetId": 4
      },
      "lineNbr": 68,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-03-22T10:49:54Z",
      "side": 1,
      "message": "This would basically invalidate the overall idea of using a `FailsafeExecutor`.\n\nI believe we either have to find a way to still keep using it with its management of max attempts, or just get rid of it altogether and revert the commit that introduced it.\n\nAnother path is to contribute to the `FailsafeExecutor` project a custom retry mechanism.\n\nWDYT?",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 68,
        "endChar": 47
      },
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a529d82_0b9e3f21",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/forwarder/ForwardedIndexChangeHandlerTest.java",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-22T08:59:32Z",
      "side": 1,
      "message": "Add tests for the use-cases this change is trying to fix?",
      "revId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MIN"],"failingAtoms":["label:Code-Review=MAX,user=non_uploader"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Do-Not-Submit",
        "description": {
          "value": "Changes that have DO NOT SUBMIT in their commit message are not submittable."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:false"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "No-Unresolved-Comments",
        "description": {
          "value": "Changes that have unresolved comments are not submittable. Unless overriden by adding the hashtag allow-unresolved-comments."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:unresolved"
          }
        },
        "submittabilityExpression": {
          "expressionString": "-has:unresolved"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "hashtag:allow-unresolved-comments"
          }
        },
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:unresolved"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-has:unresolved"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"hashtag:allow-unresolved-comments"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["hashtag:allow-unresolved-comments"]}
      },
      "patchSetCommitId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI result status for build and tests is passing"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "92f12b4bdd7ad101afa04db75eb3ce178176f508",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}