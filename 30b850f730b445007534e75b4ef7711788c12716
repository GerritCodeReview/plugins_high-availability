{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "258fba58_86881b69",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-04-25T16:44:55Z",
      "side": 1,
      "message": "Unfortunately that may not happen, as you know the reindexing is not guaranteed.",
      "range": {
        "startLine": 20,
        "startChar": 44,
        "endLine": 21,
        "endChar": 60
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "004a3e9b_56b22d9b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-26T08:36:32Z",
      "side": 1,
      "message": "Yes, if a Gerrit server crashes before processing all queued indexing tasks then some changes may remain non-indexed. This is an issue of Gerrit core, and shall be addressed in Gerrit core.",
      "parentUuid": "258fba58_86881b69",
      "range": {
        "startLine": 20,
        "startChar": 44,
        "endLine": 21,
        "endChar": 60
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f64e7d6_0a9614ec",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-04-25T16:44:55Z",
      "side": 1,
      "message": "This is a neat idea",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 28,
        "endChar": 18
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "942e236f_f6f7121d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-04-25T16:44:55Z",
      "side": 1,
      "message": "Sure, it\u0027s not going to be perfect because the assumption that the reindex would always happen and succeed at least on one node isn\u0027t true. However, I agree that it would definitely improve the situation.",
      "range": {
        "startLine": 32,
        "startChar": 6,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23d4e3d8_23493e1a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-26T08:36:32Z",
      "side": 1,
      "message": "Again, this is an issue that should be resolved in Gerrit core. Even single master Gerrit site suffers from that issue. We have some ideas on how to improve indexing reliability in Gerrit core but that shouldn\u0027t be discussed in the context of this change.",
      "parentUuid": "942e236f_f6f7121d",
      "range": {
        "startLine": 32,
        "startChar": 6,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebcae221_b650e22d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-04-25T16:44:55Z",
      "side": 1,
      "message": "Why do you need to specify those? I believe it should simply query of all changes modified since the last time it checked.",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 45,
        "endChar": 22
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f77cd111_f72d2134",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-04-26T08:36:32Z",
      "side": 1,
      "message": "Sure, there could be some default value based on the `indexSync.period`. However, there must be some overlap in the queried periods as there could be some indexing tasks running (and not yet finished) at the moment when a query is processed. After that there might be a new entry in the index that would fit into the queried interval but was persisted too late in the index. A (small) overlap is a safety net. Since this feature uses reindex-if-stale, the constant reindexing of the changes updated in the last few minutes is cheap. We do not notice any noteworthy CPU usage caused by the `indexSync` feature.",
      "parentUuid": "ebcae221_b650e22d",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 45,
        "endChar": 22
      },
      "revId": "30b850f730b445007534e75b4ef7711788c12716",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}