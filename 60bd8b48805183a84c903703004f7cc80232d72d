{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fbdaf9a9_7e4de387",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-22T13:58:44Z",
      "side": 1,
      "message": "Is there any possibility or space for an IT test on this?",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2b3f625_217babf0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T06:00:33Z",
      "side": 1,
      "message": "Let me give it a try. With wiremock I should be able to mock the Kubernetes API server.",
      "parentUuid": "fbdaf9a9_7e4de387",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77e39108_e119dbad",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/JGroupsPeerInfoProvider.java",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2023-08-22T14:11:28Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c75718e_1efa1845",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/JGroupsPeerInfoProvider.java",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-22T13:58:44Z",
      "side": 1,
      "message": "nit: unrelated change",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc45b027_37a3d475",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/JGroupsPeerInfoProvider.java",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T13:24:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c75718e_1efa1845",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c7add0f_9cc9ba14",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T06:00:33Z",
      "side": 1,
      "message": "There should be a link to the documentation of jgroups-kubernetes and a hint, that RBAC has to be configured in the cluster as well as a valid keystore has to be present in Gerrit (TLS-only when sending requests to the Kubernetes API server).",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3cf7b344_2f766269",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T13:24:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1c7add0f_9cc9ba14",
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "168a644d_d32cbc8c",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-22T13:58:44Z",
      "side": 1,
      "message": "Is there any requirement on the Kubernetes API version?",
      "range": {
        "startLine": 136,
        "startChar": 20,
        "endLine": 136,
        "endChar": 34
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f905c4f_cb07529f",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T06:00:33Z",
      "side": 1,
      "message": "There should not be. the jgroups-kubernetes extension doesn\u0027t use a client library but sends REST-API requests to the Kubernetes API server. The only request it sends is to list pods in a given namespace with a given set of labels [1]. It uses the v1.Pods API for that which exists for a very long time and is stable. In principle, you could even configure a different API version in the kubernetes.xml, e.g. v1beta1, if required [2].\n\n[1] https://github.com/jgroups-extras/jgroups-kubernetes/blob/main/src/main/java/org/jgroups/protocols/kubernetes/KUBE_PING.java#L162\n[2] https://github.com/jgroups-extras/jgroups-kubernetes#kube_ping-configuration",
      "parentUuid": "168a644d_d32cbc8c",
      "range": {
        "startLine": 136,
        "startChar": 20,
        "endLine": 136,
        "endChar": 34
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef81e543_0ba46b80",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2023-09-13T14:17:05Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "2f905c4f_cb07529f",
      "range": {
        "startLine": 136,
        "startChar": 20,
        "endLine": 136,
        "endChar": 34
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bc80298_925a1003",
        "filename": "src/main/resources/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/kubernetes.xml",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T08:15:40Z",
      "side": 1,
      "message": "nit: trailing whitespaces",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 3,
        "endChar": 4
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6eeac9a2_e6017ab8",
        "filename": "src/main/resources/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/kubernetes.xml",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T13:24:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9bc80298_925a1003",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 3,
        "endChar": 4
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "048fe3de_a10c8610",
        "filename": "src/main/resources/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/kubernetes.xml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T08:15:40Z",
      "side": 1,
      "message": "This has to be removed.",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 21
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e057fdef_81333718",
        "filename": "src/main/resources/com/ericsson/gerrit/plugins/highavailability/peers/jgroups/kubernetes.xml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2023-08-24T13:24:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "048fe3de_a10c8610",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 21
      },
      "revId": "60bd8b48805183a84c903703004f7cc80232d72d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}