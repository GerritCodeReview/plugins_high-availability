{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fd743259_98a1402a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-01-29T12:18:10Z",
      "side": 1,
      "message": "Tested with two nodes, one with current code and second without this change. Both are able to send and receive events from each other.",
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d8b1f96_1241d791",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "I was wondering why we are targeting 2.16 for this change? isn\u0027t 2.16 EOL?\n",
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e66c8698_8e249581",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/IndexEvent.java",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-01-28T22:02:47Z",
      "side": 1,
      "message": "I have to verify if this is not a breaking change and this will keep backward compatibility",
      "range": {
        "startLine": 24,
        "startChar": 16,
        "endLine": 24,
        "endChar": 23
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24e87d8c_93542b3a",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/IndexEvent.java",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "nit: Same as my other comment: how about prefixing these with \u003ctarget\u003e and \u003cmeta\u003e respectively?",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 31,
        "endChar": 51
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25fc9777_d3fe22a9",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Both getBranchTargetSha and getMetaSha opens a new repository instance and get the change from the change notes, for every change.\n\nI was thinking if, since we have to open the Repository for both, we could just pass it to both getBranchTarget and getMetaSha.\n\nWDYT?",
      "range": {
        "startLine": 107,
        "startChar": 0,
        "endLine": 109,
        "endChar": 98
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26ed4825_fcbafaee",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 131,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Nit:\nPerhaps this is a bit difficult to read:\n\n\u003cchange\u003e@\u003ctime\u003e/9ad68a037cea1507bfa91360791b527f0ba9dcbc/98ce3f17745e2596a011c4be128789f73ab95008\n\nIt is not clear which sha1 is which, the only way would be to check the code.\n\nhow about prefixing the sha1s with, target and meta respectively?\n\n\u003cchange\u003e@\u003ctime\u003e/\u003ctarget:\u003e9ad68a037cea1507bfa91360791b527f0ba9dcbc/\u003cmeta\u003e:98ce3f17745e2596a011c4be128789f73ab95008",
      "range": {
        "startLine": 128,
        "startChar": 0,
        "endLine": 131,
        "endChar": 25
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc017a91_1ab7c37c",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "2021",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04928144_ac3b835d",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Are these actually needed? tests are passing for me without",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 36,
        "endChar": 8
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed065699_ba162a86",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "These tests seem only for NoteDB, should we name the test accordingly?",
      "range": {
        "startLine": 41,
        "startChar": 13,
        "endLine": 41,
        "endChar": 29
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e71a2c9d_14e446c7",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "nit: these two variables could be local to the tests that use them, they are not used by anything else.",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 44,
        "endChar": 95
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc5692da_35d159d9",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Shouldn\u0027t we have some test to assert this is working also with ReviewDB?",
      "range": {
        "startLine": 49,
        "startChar": 0,
        "endLine": 51,
        "endChar": 3
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c8351f2_80f664c7",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Calling get() on an empty Optional doesn\u0027t return null, but it throws an exception.\n\nYou could use something like:\n\nassertThat(eventOption.isPresent()).isTrue()",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 46
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a6c8992_65d3d342",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "nit: this condition will be inherently checked at L68",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 42
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4a447f8_29adf769",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Is not clear to me _what_ should return is up-to-date true and _when_?",
      "range": {
        "startLine": 72,
        "startChar": 2,
        "endLine": 72,
        "endChar": 61
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8db97a67_e129ed9e",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "In what case should we expect a change index event without meta sha?",
      "range": {
        "startLine": 84,
        "startChar": 1,
        "endLine": 91,
        "endChar": 19
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb3bdbd7_802906ed",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "In what case should we expect a chance index event without target sha?",
      "range": {
        "startLine": 100,
        "startChar": 0,
        "endLine": 107,
        "endChar": 19
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ff6a65f_25f8cfdb",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Date",
      "range": {
        "startLine": 113,
        "startChar": 51,
        "endLine": 113,
        "endChar": 55
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4d7cfb0_4670d98f",
        "filename": "src/test/java/com/ericsson/gerrit/plugins/highavailability/index/ChangeCheckerIT.java",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-01T16:04:10Z",
      "side": 1,
      "message": "Date",
      "range": {
        "startLine": 129,
        "startChar": 53,
        "endLine": 129,
        "endChar": 57
      },
      "revId": "4322fcf6eb04eceac291ae792681bc75e710e977",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}