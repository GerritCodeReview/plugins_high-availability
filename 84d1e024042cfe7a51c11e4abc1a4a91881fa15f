{
  "comments": [
    {
      "key": {
        "uuid": "5340c78d_d9cd28e3",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 50,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-08-24T07:57:41Z",
      "side": 1,
      "message": "its",
      "range": {
        "startLine": 50,
        "startChar": 60,
        "endLine": 50,
        "endChar": 64
      },
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa131_7276aef3",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 51,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-08-24T07:57:41Z",
      "side": 1,
      "message": "Just to confirm my understanding: does this mean it will be possible to have a cluster with more than 2 nodes, but the active node will only ever sync to _one_ of the others?",
      "range": {
        "startLine": 49,
        "startChar": 83,
        "endLine": 51,
        "endChar": 98
      },
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64d1d149_ddd60d4f",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 51,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-08-24T08:03:36Z",
      "side": 1,
      "message": "I think that this comment is matching the code from the PS10 and wasn\u0027t updated properly after\nI suggested not to maintain a Map of all nodes but keep only one (just look at my review comments in PS10).\n\nThe logic now is to keep only one peer node and ignore all others (joining the cluster).\nOnly when the current one leaves the cluster will this code accept the next one which joins\nas the remote peer.",
      "parentUuid": "b26fa131_7276aef3",
      "range": {
        "startLine": 49,
        "startChar": 83,
        "endLine": 51,
        "endChar": 98
      },
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c799c3d_e6d23241",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 51,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-08-24T08:09:40Z",
      "side": 1,
      "message": "OK, so in that case it means we still only support 2 nodes.  Thanks.\n\nIs there intention to add support in future for more than 2?",
      "parentUuid": "64d1d149_ddd60d4f",
      "range": {
        "startLine": 49,
        "startChar": 83,
        "endLine": 51,
        "endChar": 98
      },
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e1bd9e9_60c38ce6",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 51,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-08-24T08:17:21Z",
      "side": 1,
      "message": "This question is much deeper and unrelated to the jgroups usage for peer node discovery.\nYes, for a setup with N nodes, jgroups would make configuration much simpler compared to\nthe static configuration without jgroups where each node would need to know N-1 other nodes.\nWhich would mean N*(N-1) url to be configured.\n\nHowever, the whole HA plugin code assumes one peer node only.",
      "parentUuid": "8c799c3d_e6d23241",
      "range": {
        "startLine": 49,
        "startChar": 83,
        "endLine": 51,
        "endChar": 98
      },
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d55e6c4_c7299438",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 74,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-07-17T15:32:46Z",
      "side": 1,
      "message": "This should rather be called from the start() method. Leaving the channel is done from the stop() method, so joining the channel should be called from the start().",
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4ba2ef1_6c0a92ed",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 74,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-08-28T09:48:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d55e6c4_c7299438",
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28244323_ac01be37",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/peers/JGroupsPeerInfoProvider.java",
        "patchSetId": 14
      },
      "lineNbr": 109,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-07-13T15:59:35Z",
      "side": 1,
      "message": "For my info: when is this exception thrown:\n1. when delivering the message to the other peer(s) definitely fails (after all\nconfigured retry options didn\u0027t work)\n2. when a single message sending fails?\n\nIf jgroups is configured to not loose any messages then it must be the case 1. Right?\nIf it would be case 2. then we would be responsible for retrying?",
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d75c79b_4107716e",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 14
      },
      "lineNbr": 25,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-07-17T11:38:20Z",
      "side": 1,
      "message": "Mention that this is only used if peerInfo.strategy is set to \"config\".",
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d210b33_60d119c3",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 14
      },
      "lineNbr": 105,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-07-17T11:38:20Z",
      "side": 1,
      "message": "This should move directly below the peerInfo.url parameter, in order to keep the whole peerInfo section settings together.",
      "range": {
        "startLine": 94,
        "startChar": 0,
        "endLine": 105,
        "endChar": 0
      },
      "revId": "84d1e024042cfe7a51c11e4abc1a4a91881fa15f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}