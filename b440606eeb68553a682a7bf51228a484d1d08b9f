{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1e13058a_ce684f2c",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-19T09:48:38Z",
      "side": 1,
      "message": "*IF* json was not an JsonObject, it would have been returned as a string. Now, I believe it would raise an exception. Have you checked what is the consequence?",
      "range": {
        "startLine": 41,
        "startChar": 60,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4baa7a2_f342942a",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-19T09:48:38Z",
      "side": 1,
      "message": "nit: import static Suppliers.memoize?",
      "range": {
        "startLine": 41,
        "startChar": 31,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6935131_d3527983",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2021-03-19T10:39:06Z",
      "side": 1,
      "message": "I checked Gerrit core code and couldn\u0027t find static imports of memoize. So I would prefer to keep the current import style.",
      "parentUuid": "b4baa7a2_f342942a",
      "range": {
        "startLine": 41,
        "startChar": 31,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2324ee55_25e15708",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2021-03-19T10:39:06Z",
      "side": 1,
      "message": "The check is still there but it is implicit. The getAsJsonObject is used only in the cases of ACCOUNTS, GROUPS, ... cases where we know that it must be a json object (this is also what you do in the multi-site plugin IIRC :-)\n\nThe lambda in this line will only be executed in the mentioned cases, not at the moment of the creation of the Supplier.",
      "parentUuid": "1e13058a_ce684f2c",
      "range": {
        "startLine": 41,
        "startChar": 60,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "877f73e3_f82d53b5",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-22T01:04:17Z",
      "side": 1,
      "message": "Sure, but that is different from what was happening before.\nThe return of json.getAsString() was made unconditionally if json was not an object, regardless of the cacheName.\n\nP.S. Not sure if that is a problem or not though, it could be 100% negligible.",
      "parentUuid": "2324ee55_25e15708",
      "range": {
        "startLine": 41,
        "startChar": 60,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e2ceb4f_214d1d48",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-22T01:04:17Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c6935131_d3527983",
      "range": {
        "startLine": 41,
        "startChar": 31,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b34511fe_ca0075e0",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-19T09:48:38Z",
      "side": 1,
      "message": "Unrelated: this is yet another big smell !!! So, we do not have any idea on why the JSON exception failed, however, we move on and we don\u0027t log anything but just pretend to evict whatever comes out from that object hoping for the best?",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 62,
        "endChar": 9
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8c1ba63_add2f3ec",
        "filename": "src/main/java/com/ericsson/gerrit/plugins/highavailability/forwarder/rest/CacheKeyJsonParser.java",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2021-03-19T10:39:06Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b34511fe_ca0075e0",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 62,
        "endChar": 9
      },
      "revId": "b440606eeb68553a682a7bf51228a484d1d08b9f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}